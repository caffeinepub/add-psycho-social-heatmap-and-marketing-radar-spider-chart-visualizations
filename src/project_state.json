{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "Build dashboard visualizations (Psycho-Social Heatmap and Radar charts—including Marketing Effectiveness and Marketing Mix) and provide an output report of strategic recommendations from the analysis for decision-makers.",
  "architectural_notes": [
    "Psycho-Social Heatmap dimensions should be based on UTAUT2: PE (Performance Expectancy/Harapan Kinerja), EE (Effort Expectancy/Harapan Usaha), SI (Social Influence/Pengaruh Sosial), HM (Hedonic Motivation/Motivasi Hedonis), FC (Facilitating Conditions/Kondisi Pendukung), PV (Price Value/Nilai Harga), H (Habit/Kebiasaan).",
    "Add a Marketing Mix radar chart with the following axes/labels and short codes: Product—Innovative Product Strategy (PROD); Price—Innovative Pricing Architecture (PRICE); Place—Innovative Distribution Network (DIST); Promotion—Innovative Communication Strategy (COMM); People—Innovative Human Resource Development (HRD); Process—Innovative Customer Journey Design (CUSJ); Physical Evidence—Innovative Brand Experience Creation (BRAND); Collaboration Ecosystem Strategy (proposed).",
    "Upload pipeline should support schema mapping/normalization from incoming dataset headers (ID, Date, Region, Source, User, text, Aspect_Category, Keywords_Extracted) into the app’s internal document model used for downstream analysis/visualizations."
  ],
  "known_issues": [
    "Ensure all dashboard visualizations (charts/heatmap/radar/report) reliably render when valid input data is provided; potential rendering/state update issue after data input.",
    "Emotion Distribution chart still displays even when the app is not currently analyzing data; should reflect correct analysis/loading/idle state (likely stale analysis state or dataset detection).",
    "File upload can fail due to strict/incorrect dataset schema validation; current expected columns may not match real user datasets (e.g., ID, Date, Region, Source, User, text, Aspect_Category, Keywords_Extracted)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-new-psycho-social-heatmap-visualization-component-and-render-it-on-the-main-dashboard-page-below-the-existing-emotion-brand-charts",
      "title": "Create a new Psycho-Social Heatmap visualization component and render it on the main Dashboard page below the existing emotion/brand charts.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-marketing-radar-chart-spider-plot-component-for-marketing-effectiveness-metrics-and-render-it-on-the-main-dashboard-page-near-the-other-high-level-charts",
      "title": "Create a new Marketing Radar Chart (spider plot) component for marketing effectiveness metrics and render it on the main Dashboard page near the other high-level charts.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-both-new-visualizations-into-the-existing-dashboard-layout-with-responsive-spacing-consistent-with-current-sections-without-modifying-any-immutable-ui-component-sources",
      "title": "Integrate both new visualizations into the existing Dashboard layout with responsive spacing consistent with current sections, without modifying any immutable UI component sources.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-strategic-recommendation-report-page-that-generates-an-executive-ready-report-from-the-currently-uploaded-dataset-documents-and-presents-it-as-a-structured-readable-report-for-decision-makers",
      "title": "Create a new “Strategic Recommendation Report” page that generates an executive-ready report from the currently uploaded dataset (documents) and presents it as a structured, readable report for decision-makers.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-derive-the-report-content-deterministically-from-existing-in-app-analysis-outputs-emotion-distribution-brand-emotion-signals-psycho-social-dimensions-marketing-effectiveness-metrics-and-purchase-intention-signals-when-available-and-convert-them-into-concrete-action-oriented-recommendations",
      "title": "Derive the report content deterministically from existing in-app analysis outputs (emotion distribution, brand emotion signals, psycho-social dimensions, marketing effectiveness metrics, and purchase intention signals when available) and convert them into concrete, action-oriented recommendations.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-export-share-functionality-for-the-report-so-decision-makers-can-reuse-it-outside-the-app",
      "title": "Provide export/share functionality for the report so decision-makers can reuse it outside the app.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-navigation-access-to-the-strategic-recommendation-report-from-the-existing-app-navigation-and-or-relevant-pages-without-modifying-any-immutable-ui-component-sources",
      "title": "Integrate navigation access to the Strategic Recommendation Report from the existing app navigation and/or relevant pages without modifying any immutable UI component sources.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-and-fix-all-dashboard-visualizations-so-they-render-reliably-when-there-is-at-least-one-uploaded-document-and-never-get-stuck-in-an-empty-state-due-to-stale-incorrect-dataset-detection",
      "title": "Audit and fix all dashboard visualizations so they render reliably when there is at least one uploaded document, and never get stuck in an empty-state due to stale/incorrect dataset detection.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-standardize-dataset-availability-and-data-shape-validation-across-all-visualization-components-so-each-chart-heatmap-radar-handles-1-loading-2-empty-dataset-3-dataset-present-but-derived-metric-not-computable-and-4-valid-derived-metric-states-without-throwing-errors",
      "title": "Standardize dataset-availability and data-shape validation across all visualization components so each chart/heatmap/radar handles: (1) loading, (2) empty dataset, (3) dataset present but derived metric not computable, and (4) valid derived metric states without throwing errors.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-react-query-cache-invalidation-refetch-behavior-results-in-immediate-consistent-ui-updates-across-all-pages-that-show-visualizations-when-new-documents-are-uploaded-or-deleted-dashboard-analysis-metrics-purchase-intention-strategic-recommendation-report",
      "title": "Ensure React Query cache invalidation/refetch behavior results in immediate, consistent UI updates across all pages that show visualizations when new documents are uploaded or deleted (Dashboard, Analysis, Metrics, Purchase Intention, Strategic Recommendation Report).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-language-toggle-english-indonesian-on-the-strategic-recommendation-report-page-that-lets-the-user-switch-the-entire-report-ui-and-report-content-between-english-and-bahasa-indonesia",
      "title": "Add a language toggle (English / Indonesian) on the Strategic Recommendation Report page that lets the user switch the entire report UI and report content between English and Bahasa Indonesia.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-update-strategic-report-generation-and-markdown-export-utilities-to-support-bilingual-output-english-and-bahasa-indonesia-via-an-explicit-language-locale-parameter-while-keeping-report-generation-deterministic-for-a-given-dataset-and-selected-language",
      "title": "Update strategic report generation and markdown export utilities to support bilingual output (English and Bahasa Indonesia) via an explicit language/locale parameter, while keeping report generation deterministic for a given dataset and selected language.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-language-toggle-works-consistently-across-all-strategic-recommendation-report-states-loading-empty-dataset-dataset-present-and-that-date-formatting-uses-an-appropriate-locale-for-the-selected-language",
      "title": "Ensure the language toggle works consistently across all Strategic Recommendation Report states (loading, empty dataset, dataset present) and that date formatting uses an appropriate locale for the selected language.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-emotion-distribution-visualization-behavior-so-it-does-not-show-a-populated-chart-when-the-app-has-no-analyzed-dataset-e-g-no-uploaded-analyzed-documents-and-instead-shows-an-appropriate-empty-idle-state",
      "title": "Update the Emotion Distribution visualization behavior so it does not show a populated chart when the app has no analyzed dataset (e.g., no uploaded/analyzed documents) and instead shows an appropriate empty/idle state.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-existing-emotionchart-component-currently-showing-hardcoded-counts-dataset-aware-so-it-reflects-the-actual-dataset-state-render-an-empty-idle-state-when-there-is-no-active-dataset-and-only-render-chart-data-when-documents-are-present",
      "title": "Make the existing `EmotionChart` component (currently showing hardcoded counts) dataset-aware so it reflects the actual dataset state: render an empty/idle state when there is no active dataset and only render chart data when documents are present.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-psycho-social-dimensions-used-for-computation-with-utaut2-constructs-and-keep-them-deterministic-update-frontend-src-lib-psychosocialmetrics-ts-so-psycho-social-dimensions-becomes-exactly-pe-performance-expectancy-ee-effort-expectancy-si-social-influence-hm-hedonic-motivation-fc-facilitating-conditions-pv-price-value-h-habit-ensure-computepsychosocialmatrix-continues-to-return-a-matrix-with-shape-dimensions-x-emotions-and-remains-stable-deterministic-for-the-same-input-documents",
      "title": "Replace the current psycho-social dimensions used for computation with UTAUT2 constructs and keep them deterministic. Update `frontend/src/lib/psychoSocialMetrics.ts` so `PSYCHO_SOCIAL_DIMENSIONS` becomes exactly: PE (Performance Expectancy), EE (Effort Expectancy), SI (Social Influence), HM (Hedonic Motivation), FC (Facilitating Conditions), PV (Price Value), H (Habit). Ensure `computePsychoSocialMatrix` continues to return a matrix with shape [dimensions x emotions] and remains stable/deterministic for the same input documents.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-psycho-social-heatmap-visualization-to-display-the-utaut2-constructs-and-provide-the-provided-definitions-in-the-ui-in-frontend-src-components-psychosocialheatmap-tsx-replace-the-local-dimensions-list-so-its-length-order-matches-the-new-utaut2-dimension-list-add-user-visible-dimension-labels-and-hover-help-text-that-includes-the-definitions-provided-by-the-user-for-pe-performance-expectancy-harapan-kinerja-ee-effort-expectancy-harapan-usaha-si-social-influence-pengaruh-sosial-hm-hedonic-motivation-motivasi-hedonis-fc-facilitating-conditions-kondisi-pendukung-pv-price-value-nilai-harga-h-habit-kebiasaan",
      "title": "Update the Psycho-Social Heatmap visualization to display the UTAUT2 constructs and provide the provided definitions in the UI. In `frontend/src/components/PsychoSocialHeatmap.tsx`, replace the local `dimensions` list so its length/order matches the new UTAUT2 dimension list. Add user-visible dimension labels and hover/help text that includes the definitions provided by the user for: PE (Performance Expectancy) / Harapan Kinerja; EE (Effort Expectancy) / Harapan Usaha; SI (Social Influence) / Pengaruh Sosial; HM (Hedonic Motivation) / Motivasi Hedonis; FC (Facilitating Conditions) / Kondisi Pendukung; PV (Price Value) / Nilai Harga; H (Habit) / Kebiasaan.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-update-strategic-report-generation-to-align-with-the-new-utaut2-psycho-social-dimension-names-so-no-report-content-references-removed-dimensions-in-frontend-src-lib-strategicreport-ts-and-any-related-localized-templates-in-frontend-src-lib-strategicreportlocale-ts-if-needed-ensure-key-findings-and-recommendation-risk-logic-that-previously-depended-on-specific-old-dimension-strings-e-g-anxiety-risk-perception-self-efficacy-social-influence-is-updated-to-work-with-the-new-utaut2-constructs-pe-ee-si-hm-fc-pv-h",
      "title": "Update strategic report generation to align with the new UTAUT2 psycho-social dimension names so no report content references removed dimensions. In `frontend/src/lib/strategicReport.ts` (and any related localized templates in `frontend/src/lib/strategicReportLocale.ts` if needed), ensure key findings and recommendation/risk logic that previously depended on specific old dimension strings (e.g., Anxiety, Risk Perception, Self-Efficacy, Social Influence) is updated to work with the new UTAUT2 constructs (PE, EE, SI, HM, FC, PV, H).",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-create-deterministic-frontend-only-computation-utilities-for-a-marketing-mix-radar-chart-with-exactly-8-factors-1-prod-product-innovative-product-strategy-2-price-price-innovative-pricing-architecture-3-dist-place-innovative-distribution-network-4-comm-promotion-innovative-communication-strategy-5-hrd-people-innovative-human-resource-development-6-cusj-process-innovative-customer-journey-design-7-brand-physical-evidence-innovative-brand-experience-creation-8-collab-collaboration-ecosystem-strategy-proposed-the-utilities-must-aggregate-scores-across-the-currently-uploaded-documents-and-output-normalized-0-100-values-per-factor-stable-deterministic-for-the-same-inputs",
      "title": "Create deterministic frontend-only computation utilities for a Marketing Mix radar chart with exactly 8 factors: (1) PROD — Product / Innovative Product Strategy, (2) PRICE — Price / Innovative Pricing Architecture, (3) DIST — Place / Innovative Distribution Network, (4) COMM — Promotion / Innovative Communication Strategy, (5) HRD — People / Innovative Human Resource Development, (6) CUSJ — Process / Innovative Customer Journey Design, (7) BRAND — Physical Evidence / Innovative Brand Experience Creation, (8) COLLAB — Collaboration Ecosystem Strategy (Proposed). The utilities must aggregate scores across the currently uploaded documents and output normalized 0–100 values per factor (stable/deterministic for the same inputs).",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-react-component-marketingmixradarchart-that-renders-the-marketing-mix-radar-chart-using-the-8-computed-factors-and-follows-the-existing-visualization-state-conventions-loading-empty-insufficient-ready-used-by-other-charts-e-g-getvisualizationstate-numeric-sanitization-clamping-all-user-facing-text-in-this-new-component-must-be-in-english-title-description-empty-insufficient-messages-labels-tooltips",
      "title": "Add a new React component `MarketingMixRadarChart` that renders the Marketing Mix radar chart using the 8 computed factors and follows the existing visualization state conventions (loading/empty/insufficient/ready) used by other charts (e.g., `getVisualizationState`, numeric sanitization/clamping). All user-facing text in this new component must be in English (title, description, empty/insufficient messages, labels/tooltips).",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-the-new-marketingmixradarchart-into-the-main-dashboard-page-frontend-src-pages-dashboard-tsx-alongside-the-existing-visualizations-passing-the-currently-loaded-documents-and-hasactivedataset-so-it-updates-immediately-when-documents-are-uploaded-deleted",
      "title": "Integrate the new `MarketingMixRadarChart` into the main Dashboard page (`frontend/src/pages/Dashboard.tsx`) alongside the existing visualizations, passing the currently loaded `documents` and `hasActiveDataset` so it updates immediately when documents are uploaded/deleted.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-file-upload-ingestion-flow-so-users-can-upload-datasets-whose-schema-is-exactly-id-date-region-source-user-text-aspect-category-keywords-extracted-without-the-upload-failing",
      "title": "Update the file-upload ingestion flow so users can upload datasets whose schema is exactly: `ID, Date, Region, Source, User, text, Aspect_Category, Keywords_Extracted`, without the upload failing.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-for-dataset-uploads-csv-json-that-follow-the-specified-schema-parse-the-file-into-multiple-documents-and-upload-each-row-as-a-separate-backend-document-using-the-row-s-text-value-as-document-content",
      "title": "For dataset uploads (.csv/.json) that follow the specified schema, parse the file into multiple documents and upload each row as a separate backend document using the row’s `text` value as `Document.content`.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-upload-experience-resilient-and-debuggable-by-reporting-parse-validation-errors-and-upload-progress-failures-clearly-in-the-ui",
      "title": "Make the upload experience resilient and debuggable by reporting parse/validation errors and upload progress/failures clearly in the UI.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add Psycho-Social Heatmap visualization to the dashboard.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add Marketing Radar Chart (spider plot) for marketing effectiveness metrics.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Generate a strategic recommendation report (laporan rekomendasi strategik) from the analysis results for decision-makers.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add bilingual (English/Indonesian) language toggle button on the Strategic Recommendation Report page.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Revise the Psycho-Social Heatmap dimensions to use UTAUT2 constructs (PE, EE, SI, HM, FC, PV, H) with the provided Indonesian labels/definitions.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add an additional Marketing Mix Radar Chart visualization with 8 factors (PROD, PRICE, DIST, COMM, HRD, CUSJ, BRAND, Collaboration Ecosystem Strategy).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Update/relax upload file validation to accept the dataset column format: ID, Date, Region, Source, User, text, Aspect_Category, Keywords_Extracted (including mapping/normalization to the app’s required internal fields).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Add Psycho-Social Heatmap and Marketing Radar (Spider) Chart visualizations",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}